#!/usr/bin/env bash
set -euo pipefail

repo_root="$( "$(dirname -- "${BASH_SOURCE[0]}")/cicero-root" )"
repo_openclaw="${repo_root}/tools/openclaw/node_modules/.bin/openclaw"

if [[ -x "${repo_openclaw}" ]]; then
  exec "${repo_openclaw}" "$@"
fi

if command -v openclaw >/dev/null 2>&1; then
  exec openclaw "$@"
fi

echo "error: openclaw not found." >&2
echo "  expected repo-local at: tools/openclaw/node_modules/.bin/openclaw" >&2
echo "  run: npm --prefix tools/openclaw install" >&2
echo "  or install system-wide and ensure 'openclaw' is on PATH" >&2
exit 127

